!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("backbone"),require("underscore")):"function"==typeof define&&define.amd?define(["backbone","underscore"],e):t.Metal=e(t.Backbone,t._)}(this,function(t,e){"use strict";function n(t,e){return function(){var n=this._super;this._super=e;var r=t.apply(this,arguments);return this._super=n,r}}function r(t,r){var i=e.keys(r),o=i.length,s=void 0,c=void 0,a=void 0,p=void 0,f=void 0;for(s=0;o>s;s++)c=i[s],a=r[c],p=t[c],f=u.test(a),t[c]=f&&e.isFunction(a)&&e.isFunction(p)?n(a,p):a}var i=function(t){e.extend(this,t)};i.isMixin=function(t){return!!t&&t instanceof i};var o=i,s=new o(t.Events),c=s,u=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/,a=function(){this.cid=e.uniqueId(this.cidPrefix),this.initialize.apply(this,arguments)};e.extend(a.prototype,{cidPrefix:"metal",initialize:function(){},destroy:function(){this.stopListening()}}),e.extend(a,{extend:function(t,i){var o=this,s=void 0;s=t&&e.has(t,"constructor")?u.test(t.constructor)?n(t.constructor,o.prototype.constructor):t.constructor:function(){o.apply(this,arguments)},e.extend(s,o),i&&r(s,i);var c=function(){this.constructor=s};return c.prototype=o.prototype,s.prototype=new c,t&&r(s.prototype,t),s.superclass=o,s.__super__=o.prototype,s},mixin:function(t){return r(this.prototype,t),this},include:function(t){return r(this,t),this},isClass:function(t){return!!t&&(t instanceof a||t.prototype instanceof a||t===a)}}),a.mixin(c);var p=a,f=["description","fileName","lineNumber","name","message","number"],d=p.extend.call(Error,{constructor:function(t){var n=void 0===arguments[1]?{}:arguments[1];e.isObject(t)&&(n=t,t=n.message);var r=Error.call(this,t);e.extend(this,e.pick(r,f),e.pick(n,f)),d.captureStackTrace(this,d)},toString:function(){return""+this.name+": "+this.message}},{captureStackTrace:function(t,e){Error.captureStackTrace&&Error.captureStackTrace(t,e)}});e.extend(d,p);var h=d,l=function(t,n){void 0!==n&&n||(e.isObject(t)&&(t=l._format(t.prev,t.next)),t=t&&t.toString(),l._cache[t]||(l._warn("Deprecation warning: "+t),l._cache[t]=!0))};l._format=function(t,e){return""+t+" is going to be removed in the future. Please use "+e+" instead."};var v="undefined"!=typeof console?console:{},m=v.warn||v.log||function(){};l._warn=function(){return m.apply(v,arguments)},l._cache={};var y=l,x=t.Metal={Class:p,Mixin:o,Error:h,deprecate:y,Events:c};return x});
//# sourceMappingURL=backbone-metal.min.js.map